<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<f:metadata>
   <f:viewParam name="id" value="#{editCreatureBean.creatureId}"/>
   <f:event type="preRenderView" listener="#{editCreatureBean.loadCreature}"/>
</f:metadata>

<h:head>
   <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤–∞</title>
   <style type="text/css">
      .container { max-width: 800px; margin: 0 auto; padding: 20px; }
      .form-group { margin: 15px 0; }
      label { display: block; margin-bottom: 5px; font-weight: bold; }
      input, select { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
      .btn { padding: 10px 20px; margin: 5px; border: none; border-radius: 4px; cursor: pointer; }
      .btn-primary { background: #007bff; color: white; }
      .btn-secondary { background: #6c757d; color: white; }
      .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
   </style>
</h:head>

<h:body>
   <div class="container">
      <h1>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤–∞</h1>

      <div style="margin-bottom: 20px;">
         <h:link outcome="creatures" value="‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É" styleClass="btn btn-secondary"/>
      </div>

      <h:messages/>

      <ui:fragment rendered="#{editCreatureBean.creature != null}">
      <div>
         <h:form id="editForm">
            <div class="form-grid">
               <div class="form-group">
                  <h:outputLabel for="name" value="–ò–º—è:"/>
                  <h:inputText id="name" value="#{editCreatureBean.creature.name}" required="true" requiredMessage="–ò–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ"/>
               </div>

               <div class="form-group">
                  <h:outputLabel for="age" value="–í–æ–∑—Ä–∞—Å—Ç:"/>
                  <h:inputText id="age" value="#{editCreatureBean.creature.age}" required="true">
                     <f:validateLongRange minimum="1"/>
                  </h:inputText>
               </div>

               <div class="form-group">
                  <h:outputLabel for="attackLevel" value="–£—Ä–æ–≤–µ–Ω—å –∞—Ç–∞–∫–∏:"/>
                  <h:inputText id="attackLevel" value="#{editCreatureBean.creature.attackLevel}" required="true">
                     <f:validateLongRange minimum="1"/>
                  </h:inputText>
               </div>

               <div class="form-group">
                  <h:outputLabel for="creatureType" value="–¢–∏–ø —Å—É—â–µ—Å—Ç–≤–∞:"/>
                  <h:selectOneMenu id="creatureType" value="#{editCreatureBean.creature.creatureType}">
                     <f:selectItem itemLabel="–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø" itemValue=""/>
                     <f:selectItem itemLabel="HOBBIT" itemValue="HOBBIT"/>
                     <f:selectItem itemLabel="ELF" itemValue="ELF"/>
                     <f:selectItem itemLabel="HUMAN" itemValue="HUMAN"/>
                     <f:selectItem itemLabel="GOLLUM" itemValue="GOLLUM"/>
                  </h:selectOneMenu>
               </div>

               <div class="form-group">
                  <h:outputLabel for="x" value="–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X:"/>
                  <h:inputText id="x" value="#{editCreatureBean.creature.coordinates.x}" required="true">
                     <f:validateDoubleRange minimum="-998.999"/>
                  </h:inputText>
               </div>

               <div class="form-group">
                  <h:outputLabel for="y" value="–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y:"/>
                  <h:inputText id="y" value="#{editCreatureBean.creature.coordinates.y}" required="true">
                     <f:validateLongRange minimum="-933"/>
                  </h:inputText>
               </div>
            </div>

            <div style="margin-top: 20px;">
               <h:commandButton value="üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å" action="#{editCreatureBean.updateCreature}" styleClass="btn btn-primary"/>
               <h:link outcome="view-creature" value="‚ùå –û—Ç–º–µ–Ω–∞" styleClass="btn btn-secondary">
                  <f:param name="id" value="#{editCreatureBean.creature.id}"/>
               </h:link>
            </div>
         </h:form>
      </div>
      </ui:fragment>
      <ui:fragment rendered="#{editCreatureBean.creature == null}">
         <p style="color: red;">–°—É—â–µ—Å—Ç–≤–æ —Å ID #{editCreatureBean.creatureId} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
      </ui:fragment>

   </div>
</h:body>
</html>