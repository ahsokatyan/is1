<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤–∞–º–∏</title>
    <style type="text/css">
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .table th, .table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        .table th {
            background-color: #f5f5f5;
        }

        .btn {
            padding: 8px 12px;
            margin: 5px;
            text-decoration: none;
            border: none;
            cursor: pointer;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .form-group {
            margin: 10px 0;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
        }

        .messages {
            color: red;
            margin: 10px 0;
        }

        .pagination {
            margin: 20px 0;
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        .pagination .btn {
            margin: 0 5px;
            padding: 8px 12px;
            background: #fff;
            border: 1px solid #dee2e6;
            color: #007bff;
            cursor: pointer;
        }

        .pagination .btn:hover:not(:disabled) {
            background: #007bff;
            color: white;
        }

        .pagination .btn:disabled {
            background: #e9ecef;
            color: #6c757d;
            cursor: not-allowed;
            opacity: 0.6;
        }
    </style>
</h:head>

<h:body>
    <div class="container">
        <h1>üìñ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–∂–Ω—ã–º–∏ —Å—É—â–µ—Å—Ç–≤–∞–º–∏</h1>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <div style="margin-bottom: 20px;">
            <h:form>
                <h:commandButton value="üè† –ì–ª–∞–≤–Ω–∞—è" action="index" styleClass="btn"/>
                <h:commandButton value="üèôÔ∏è –ì–æ—Ä–æ–¥–∞" action="cities" styleClass="btn"/>
            </h:form>
        </div>

        <!-- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö/—É—Å–ø–µ—Ö–µ -->
        <h:messages globalOnly="false" styleClass="messages" infoClass="success" errorClass="error"/>
        <div style="border: 1px solid #ccc; padding: 20px; margin: 20px 0;">
            <h3>üîç –ü–æ–∏—Å–∫ —Å—É—â–µ—Å—Ç–≤–∞ –ø–æ ID</h3>
            <h:form>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <h:inputText value="#{navigationBean.searchId}" required="true"
                                 style="padding: 8px; width: 200px;"
                                 placeholder="–í–≤–µ–¥–∏—Ç–µ ID —Å—É—â–µ—Å—Ç–≤–∞"/>
                    <h:commandButton value="–ù–∞–π—Ç–∏" action="#{navigationBean.searchCreature}"
                                     style="padding: 8px 16px;"/>
                </div>
            </h:form>
        </div>
        <!-- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å—É—â–µ—Å—Ç–≤–∞ -->
        <div style="margin-bottom: 20px;">
            <h:link outcome="create-creature" value="‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Å—É—â–µ—Å—Ç–≤–æ" styleClass="btn btn-primary"
                    style="font-size: 16px; padding: 10px 20px;"/>
        </div>

        <hr/>

        <!-- –¢–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤ -->
        <h3>üìã –°–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤ (–í—Å–µ–≥–æ: #{bookCreatureBean.totalCount})</h3>

        <h:form id="listForm">
            <h:dataTable value="#{bookCreatureBean.creatures}" var="creature" styleClass="table">
                <h:column>
                    <f:facet name="header">ID</f:facet>
                    #{creature.id}
                </h:column>

                <h:column>
                    <f:facet name="header">–ò–º—è</f:facet>
                    #{creature.name}
                </h:column>

                <h:column>
                    <f:facet name="header">–¢–∏–ø</f:facet>
                    #{creature.creatureType}
                </h:column>

                <h:column>
                    <f:facet name="header">–í–æ–∑—Ä–∞—Å—Ç</f:facet>
                    #{creature.age}
                </h:column>

                <h:column>
                    <f:facet name="header">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã</f:facet>
                    (#{creature.coordinates.x}, #{creature.coordinates.y})
                </h:column>

                <h:column>
                    <f:facet name="header">–£—Ä–æ–≤–µ–Ω—å –∞—Ç–∞–∫–∏</f:facet>
                    #{creature.attackLevel}
                </h:column>

                <h:column>
                    <f:facet name="header">üèôÔ∏è –ì–æ—Ä–æ–¥</f:facet>
                    #{creature.creatureLocation != null ? creature.creatureLocation.toString() : '–ù–µ—Ç'}
                </h:column>

                <h:column>
                    <f:facet name="header">–ö–æ–ª—å—Ü–æ</f:facet>
                    #{creature.ring != null ? creature.ring.toString() : '–ù–µ—Ç'}
                </h:column>

                <h:column>
                    <f:facet name="header">–î–µ–π—Å—Ç–≤–∏—è</f:facet>
                    <h:link outcome="view-creature" value="üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä" style="margin-right: 5px;">
                        <f:param name="id" value="#{creature.id}"/>
                    </h:link>

                    <h:link outcome="edit-creature" value="‚úèÔ∏è –†–µ–¥–∞–∫—Ç." style="margin-right: 5px;"
                            onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ —Å—É—â–µ—Å—Ç–≤–æ?')">
                        <f:param name="id" value="#{creature.id}"/>
                    </h:link>

                    <h:link outcome="delete-creature" value="üóëÔ∏è –£–¥–∞–ª–∏—Ç—å">
                        <f:param name="id" value="#{creature.id}"/>
                    </h:link>
                </h:column>
            </h:dataTable>

            <!-- –ü—Ä–æ—Å—Ç–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è -->
            <div class="pagination" style="margin: 20px 0; text-align: center;">
                <h:form>
                    <!-- –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
                    <h:commandButton value="‚èÆÔ∏è –ü–µ—Ä–≤–∞—è"
                                     action="#{bookCreatureBean.firstPage}"
                                     disabled="#{bookCreatureBean.currentPage == 1}"
                                     styleClass="btn"/>

                    <h:commandButton value="‚óÄÔ∏è –ù–∞–∑–∞–¥"
                                     action="#{bookCreatureBean.previousPage}"
                                     disabled="#{bookCreatureBean.currentPage == 1}"
                                     styleClass="btn"/>

                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ -->
                    <span style="margin: 0 15px; font-weight: bold;">
            –°—Ç—Ä–∞–Ω–∏—Ü–∞ #{bookCreatureBean.currentPage} –∏–∑ #{bookCreatureBean.totalPages}
        </span>

                    <h:commandButton value="–í–ø–µ—Ä–µ–¥ ‚ñ∂Ô∏è"
                                     action="#{bookCreatureBean.nextPage}"
                                     disabled="#{bookCreatureBean.currentPage >= bookCreatureBean.totalPages}"
                                     styleClass="btn"/>

                    <h:commandButton value="–ü–æ—Å–ª–µ–¥–Ω—è—è ‚è≠Ô∏è"
                                     action="#{bookCreatureBean.lastPage}"
                                     disabled="#{bookCreatureBean.currentPage >= bookCreatureBean.totalPages}"
                                     styleClass="btn"/>

                    <!-- –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                    <div style="margin-top: 10px; color: #666;">
                        –ü–æ–∫–∞–∑–∞–Ω–æ #{bookCreatureBean.creatures.size()} –∏–∑ #{bookCreatureBean.totalCount} —Å—É—â–µ—Å—Ç–≤
                        (–ø–æ 20 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ)
                    </div>
                </h:form>
            </div>
        </h:form>
    </div>
</h:body>
</html>
